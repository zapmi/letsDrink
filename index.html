<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Let's drink</title>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css" />
</head>

<body>
    <div class="container">
        <h1>Let's Drink</h1>
        <form id="drink-form">
            <label for="drink-input"><b>Search your favorite alcohol: </b></label>
            <input type="text" id="drink-input">
            <input id="find-drink" type="submit" value="Drink Search">
            <br>
            <label for="drink-input"><b>Or pick a random drink </b></label>
            <input id="find-random" type="submit" value="Random Drink">

        </form>

        <div id="drink-view"></div>


    </div>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">

        //search for alcohol

        $("#find-drink").on("click", function (event) {

            event.preventDefault();

            // Here we grab the text from the input box
            var drink = $("#drink-input").val();

            var settings = {
                "async": true,
                "crossDomain": true,
                "url": "https://the-cocktail-db.p.rapidapi.com/search.php?i=" + drink,
                "method": "GET",
                "headers": {
                    "x-rapidapi-host": "the-cocktail-db.p.rapidapi.com",
                    "x-rapidapi-key": "666caa2618msh64e5a09c9984d6cp1d6d08jsn711c7459d6d7"
                }
            }

            $.ajax(settings).done(function (response) {
                console.log(response);

                for (var i = 0; i < response.ingredients.length; i++) {
                    var drinkDiv = $("<div>");
                    var name = $("<h3>").html(response.ingredients[0].strIngredient);
                    var description = $("<p>").html(response.ingredients[0].strDescription);
                    drinkDiv.append(name, description);
                    $("#drink-view").html(drinkDiv);
                }
                // $("#drink-view").text(JSON.stringify(response, null, 3));
                // $("#drink-view").text(JSON.stringify(response.ingredients[0].strDescription));
            });

        });


        //pick random drink

        $("#find-random").on("click", function (event) {

            event.preventDefault();


            var settings = {
                "async": true,
                "crossDomain": true,
                "url": "https://the-cocktail-db.p.rapidapi.com/filter.php?i=Gin",
                "method": "GET",
                "headers": {
                    "x-rapidapi-host": "the-cocktail-db.p.rapidapi.com",
                    "x-rapidapi-key": "666caa2618msh64e5a09c9984d6cp1d6d08jsn711c7459d6d7"
                }
            }

            $.ajax(settings).done(function (response) {
                console.log(response);
                // for (var i = 0; i < response.drinks.length; i++) {
                    var randomDrink = Math.floor(Math.random() * response.drinks.length);
                    console.log(randomDrink);
                    var drinkDiv = $("<div>");
                    var name = $("<h3>").html(randomDrink.strDrink);
                    var image = $("<img>").attr("src", randomDrink.strDrinkThumb);
                    drinkDiv.append(randomDrink, name, image);
                    $("#drink-view").html(drinkDiv);
                // }
            });





        });


    </script>
</body>

</html>